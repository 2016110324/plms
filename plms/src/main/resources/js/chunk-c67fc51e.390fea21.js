(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c67fc51e"],{"2bc5":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[a("el-button",{attrs:{icon:"el-icon-plus",type:"primary"},on:{click:t.showAddSalaryView}},[t._v("添加工资账套")]),a("el-button",{attrs:{icon:"el-icon-refresh",type:"success"},on:{click:t.initSalaries}})],1),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-table",{attrs:{data:t.salaries,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{width:"120",prop:"name",label:"账套名称"}}),a("el-table-column",{attrs:{width:"70",prop:"basicSalary",label:"基本工资"}}),a("el-table-column",{attrs:{width:"70",prop:"trafficSalary",label:"交通补助"}}),a("el-table-column",{attrs:{width:"70",prop:"lunchSalary",label:"午餐补助"}}),a("el-table-column",{attrs:{width:"70",prop:"bonus",label:"奖金"}}),a("el-table-column",{attrs:{width:"100",prop:"createDate",label:"启用时间"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{on:{click:function(a){return t.showEditSalaryView(e.row)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"danger"},on:{click:function(a){return t.deleteSalary(e.row)}}},[t._v("删除")])]}}])})],1)],1),a("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[a("el-pagination",{attrs:{background:"","page-sizes":[6,10,20,30],"page-size":6,layout:"sizes, prev, pager, next, jumper, ->, total, slot",total:t.total},on:{"size-change":t.sizeChange,"current-change":t.currentChange}})],1),a("el-dialog",{attrs:{title:t.dialogTitle,visible:t.dialogVisible,width:"50%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",{staticStyle:{display:"flex","justify-content":"space-around","align-items":"center"}},[a("el-steps",{attrs:{direction:"vertical",active:t.activeItemIndex}},t._l(t.salaryItemName,(function(t,e){return a("el-step",{key:e,attrs:{title:t}})})),1),t._l(t.salary,(function(e,i,n){return a("el-input",{directives:[{name:"show",rawName:"v-show",value:t.activeItemIndex==n,expression:"activeItemIndex==index"}],key:n,staticStyle:{width:"200px"},attrs:{placeholder:"请输入"+t.salaryItemName[n]+"..."},model:{value:t.salary[i],callback:function(e){t.$set(t.salary,i,e)},expression:"salary[title]"}})}))],2),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.preStep}},[t._v(t._s(4==t.activeItemIndex?"取消":"上一步"))]),a("el-button",{attrs:{type:"primary"},on:{click:t.nextStep}},[t._v(t._s(4==t.activeItemIndex?"完成":"下一步"))])],1)])],1)},n=[],r=(a("b0c0"),{name:"SalSob",data:function(){return{total:0,currentPage:1,currentSize:6,page:1,size:6,dialogVisible:!1,dialogTitle:"添加工资账套",salaries:[],activeItemIndex:0,salaryItemName:["基本工资","交通补助","午餐补助","奖金","账套名称"],salary:{basicSalary:0,trafficSalary:0,lunchSalary:0,bonus:0,name:""}}},mounted:function(){this.initSalaries()},methods:{sizeChange:function(t){this.currentSize=t,this.initSalaries()},currentChange:function(t){this.currentPage=t,this.initSalaries()},showEditSalaryView:function(t){this.activeItemIndex=0,this.dialogTitle="修改工资账套",this.dialogVisible=!0,this.salary.basicSalary=t.basicSalary,this.salary.trafficSalary=t.trafficSalary,this.salary.lunchSalary=t.lunchSalary,this.salary.bonus=t.bonus,this.salary.name=t.name,this.salary.id=t.id},deleteSalary:function(t){var e=this;this.$confirm("此操作将删除【"+t.name+"】账套，是否继续？","提示",{cancelButtonText:"取消",confirmButtonText:"确定"}).then((function(){e.deleteRequest("/salary/sob/"+t.id).then((function(t){t&&e.initSalaries()}))})).catch((function(){e.$message.info("取消删除!")}))},preStep:function(){0!=this.activeItemIndex&&(5!=this.activeItemIndex?this.activeItemIndex--:this.dialogVisible=!1)},nextStep:function(){var t=this;4!=this.activeItemIndex?this.activeItemIndex++:this.salary.id?this.putRequest("/salary/sob/",this.salary).then((function(e){e&&(t.initSalaries(),t.dialogVisible=!1)})):this.postRequest("/salary/sob/",this.salary).then((function(e){e&&(t.initSalaries(),t.dialogVisible=!1)}))},showAddSalaryView:function(){this.salary={basicSalary:0,trafficSalary:0,lunchSalary:0,bonus:0,name:0},this.dialogTitle="添加工资账套",this.activeItemIndex=0,this.dialogVisible=!0},initSalaries:function(){var t=this;this.getRequest("/salary/sob/?page="+this.currentPage+"&size="+this.currentSize).then((function(e){e&&(t.salaries=e.data,t.total=e.total)}))}}}),l=r,s=a("2877"),o=Object(s["a"])(l,i,n,!1,null,"b708d940",null);e["default"]=o.exports},"3b8b":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"msg"},[a("div",[a("p",[t._v("年度个税信息采集")]),a("el-form",{ref:"taxForm",staticStyle:{"margin-top":"5px"},attrs:{model:t.tax,rules:t.rules}},[a("i",{staticClass:"el-icon-cherry"},[t._v(" 基本信息")]),a("el-row",{staticClass:"row"},[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{prop:"eid",size:"mini","label-width":"150px",label:"员工编号"}},[a("el-input",{model:{value:t.tax.eid,callback:function(e){t.$set(t.tax,"eid",e)},expression:"tax.eid"}})],1)],1)],1),a("hr"),a("i",{staticClass:"el-icon-cherry"},[t._v(" 收入及免税")]),a("el-row",{staticClass:"row"},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{prop:"salary",size:"mini","label-width":"150px",label:"收入额"}},[a("el-input",{model:{value:t.tax.salary,callback:function(e){t.$set(t.tax,"salary",t._n(e))},expression:"tax.salary"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{prop:"otherSalary",size:"mini","label-width":"150px",label:"其他所得"}},[a("el-input",{model:{value:t.tax.otherSalary,callback:function(e){t.$set(t.tax,"otherSalary",t._n(e))},expression:"tax.otherSalary"}})],1)],1)],1),a("hr"),a("i",{staticClass:"el-icon-cherry"},[t._v(" 扣除及减除")]),a("el-row",{staticClass:"row"},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{prop:"insurance",size:"mini","label-width":"150px",label:"五险一金"}},[a("el-input",{model:{value:t.tax.insurance,callback:function(e){t.$set(t.tax,"insurance",t._n(e))},expression:"tax.insurance"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{prop:"otherDeduct",size:"mini","label-width":"150px",label:"其他扣除"}},[a("el-input",{model:{value:t.tax.otherDeduct,callback:function(e){t.$set(t.tax,"otherDeduct",t._n(e))},expression:"tax.otherDeduct"}})],1)],1)],1),a("hr"),a("el-tooltip",{attrs:{placement:"right"}},[a("div",{attrs:{slot:"content"},slot:"content"},[t._v(" 应纳税额=应纳税所得额*税率-速算扣除数"),a("br")]),a("i",{staticClass:"el-icon-cherry  compute"},[t._v(" 税款计算")])]),a("el-row",{staticClass:"row"},[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{size:"mini","label-width":"150px",label:"应纳税所得额"}},[a("el-input",{attrs:{disabled:""},model:{value:t.ownSalary,callback:function(e){t.ownSalary=t._n(e)},expression:"ownSalary"}})],1)],1),a("el-col",{attrs:{span:7}},[a("el-tooltip",{attrs:{placement:"bottom"}},[a("div",{attrs:{slot:"content"},slot:"content"},[t._v(" 不超过3000元：0.03"),a("br"),t._v(" 超过3000至12000元的部分：0.1 "),a("br"),t._v(" 超过12000至25000元的部分：0.2 "),a("br"),t._v(" 超过25000至35000元的部分：0.25 "),a("br"),t._v(" 超过35000至55000元的部分：0.3 "),a("br"),t._v(" 超过55000至80000元的部分：0.35 "),a("br"),t._v(" 超过80000元的部分：0.45 ")]),a("el-form-item",{attrs:{size:"mini","label-width":"150px",label:"税率"}},[a("el-input",{attrs:{disabled:""},model:{value:t.rate,callback:function(e){t.rate=t._n(e)},expression:"rate"}})],1)],1)],1),a("el-col",{attrs:{span:7}},[a("el-tooltip",{attrs:{placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[t._v(" 第1级数：0 "),a("br"),t._v(" 第2级数：3000*(0.1-0.03) "),a("br"),t._v(" 第3级数：12000*(0.2-0.1) "),a("br"),t._v(" 第4级数：25000*(0.25-0.2) "),a("br"),t._v(" 第5级数：35000*(0.3-0.25) "),a("br"),t._v(" 第6级数：55000*(0.35-0.3) "),a("br"),t._v(" 第7级数：80000*（0.45-0.35）"),a("br")]),a("el-form-item",{attrs:{size:"mini","label-width":"150px",label:"速算扣除数"}},[a("el-input",{attrs:{disabled:""},model:{value:t.deduction,callback:function(e){t.deduction=t._n(e)},expression:"deduction"}})],1)],1)],1)],1),a("el-row",{staticClass:"row"},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{prop:"taxPay","label-width":"150px",label:"应纳税额"}},[a("el-input",{attrs:{disabled:""},model:{value:t.payTax,callback:function(e){t.payTax=t._n(e)},expression:"payTax"}})],1)],1)],1)],1)],1),a("div",{staticClass:"sub"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.doAndTax}},[t._v("确 定")])],1)])])},n=[],r={name:"ICCollection",data:function(){return{s:0,r:0,deduction:"",tax:{eid:"00000001",salary:0,otherSalary:0,insurance:5e3,otherDeduct:0,taxPay:0,name:"",idCard:""},rules:{name:[{required:!0,message:"请输入用户名",trigger:"blur"}],idCard:[{required:!0,message:"请输入身份证号码",trigger:"blur"},{pattern:/(^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$)|(^[1-9]\d{5}\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{2}$)/,message:"身份证号码格式不正确",trigger:"blur"}],eid:[{required:!0,message:"请输入员工号",trigger:"blur"}],salary:[{required:!0,message:"请输入工资",type:"number",trigger:"blur"}],otherSalary:[{required:!0,message:"请输入其他所得额",type:"number",trigger:"blur"}],insurance:[{required:!0,message:"请输入五险一金额",type:"number",trigger:"blur"}],otherDeduct:[{required:!0,message:"请输入其他扣除额",type:"number",trigger:"blur"}]}}},methods:{emptyTax:function(){tax={eid:"",salary:0,otherSalary:0,insurance:0,otherDeduct:0,threshold:0,taxPay:0}},doAndTax:function(){var t=this;this.$refs["taxForm"].validate((function(e){e&&t.postRequest("ic/collection/",t.tax).then((function(t){}))}))}},computed:{ownSalary:function(){return this.s=this.tax.salary+this.tax.otherSalary-this.tax.insurance-this.tax.otherDeduct,this.tax.salary+this.tax.otherSalary-this.tax.insurance-this.tax.otherDeduct},rate:function(){return this.s<0?(this.r=0,this.deduction=0,0):this.s<3e3?(this.r=.03,this.deduction=0,.03):this.s<12e3?(this.deduction=210,this.r=.1,.1):this.s<25e3?(this.deduction=1410,this.r=.2,.2):this.s<35e3?(this.deduction=2660,this.r=.25,.25):this.s<55e3?(this.deduction=4410,this.r=.3,.3):this.s<8e4?(this.deduction=7160,this.r=.35,.35):(this.deduction=15160,this.r=.45,.45)},payTax:function(){return console.log(this.s,this.r,this.deduction),this.tax.taxPay=this.s*this.r-this.deduction,this.s*this.r-this.deduction}}},l=r,s=(a("e6c5"),a("2877")),o=Object(s["a"])(l,i,n,!1,null,"b28bcab2",null);e["default"]=o.exports},"6ac98":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("el-table",{attrs:{data:t.emps,border:"",stripe:"",size:"mini"}},[a("el-table-column",{attrs:{type:"selection",align:"left",width:"55"}}),a("el-table-column",{attrs:{prop:"name",label:"姓名",fixed:"",width:"120",align:"left"}}),a("el-table-column",{attrs:{prop:"workID",label:"工号",width:"120",align:"left"}}),a("el-table-column",{attrs:{prop:"email",label:"电子邮件",width:"200",align:"left"}}),a("el-table-column",{attrs:{prop:"phone",label:"电话号码",width:"120",align:"left"}}),a("el-table-column",{attrs:{prop:"department.name",label:"所属部门",width:"130",align:"left"}}),a("el-table-column",{attrs:{label:"所属部门",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.salary?a("el-tooltip",{attrs:{placement:"right"}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("table",[a("tr",[a("td",[t._v("基本工资")]),a("td",[t._v(t._s(e.row.salary.basicSalary))])]),a("tr",[a("td",[t._v("交通补助")]),a("td",[t._v(t._s(e.row.salary.trafficSalary))])]),a("tr",[a("td",[t._v("午餐补助")]),a("td",[t._v(t._s(e.row.salary.lunchSalary))])]),a("tr",[a("td",[t._v("奖金")]),a("td",[t._v(t._s(e.row.salary.bonus))])]),a("tr",[a("td",[t._v("启用时间")]),a("td",[t._v(t._s(e.row.salary.createDate))])]),a("hr"),a("tr",[a("td",[t._v("工资")]),a("td",[t._v(t._s(e.row.salary.allSalary))])])])]),a("el-tag",[t._v(t._s(e.row.salary.name))])],1):a("el-tag",[t._v("暂未设置")])]}}])}),a("el-table-column",{attrs:{width:"130",fixed:"right",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{attrs:{placement:"left",title:"修改工资账套",width:"80px",trigger:"click"},on:{show:function(a){return t.showPop(e.row.salary)},hide:function(a){return t.hidePop(e.row)}}},[a("div",[a("el-select",{attrs:{placeholder:"请选择",size:"mini"},model:{value:t.currentSalary,callback:function(e){t.currentSalary=e},expression:"currentSalary"}},t._l(t.salaries,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),a("el-button",{attrs:{slot:"reference",size:"mini",type:"danger"},slot:"reference"},[t._v("修改工资账套")])],1)]}}])})],1),a("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[a("el-pagination",{attrs:{background:"",layout:"sizes, prev, pager, next, jumper, ->, total, slot",total:t.total},on:{"size-change":t.sizeChange,"current-change":t.currentChange}})],1)],1)])},n=[],r={name:"SalSobCfg",data:function(){return{emps:[],total:0,currentPage:1,currentSize:10,currentSalary:null,salaries:[]}},mounted:function(){this.initEmps(),this.initSalaries()},methods:{sizeChange:function(t){this.currentSize=t,this.initEmps()},currentChange:function(t){this.currentPage=t,this.initEmps()},hidePop:function(t){var e=this;this.currentSalary&&this.putRequest("/salary/sobcfg/?eid="+t.id+"&sid="+this.currentSalary).then((function(t){t&&e.initEmps()}))},showPop:function(t){this.currentSalary=t?t.id:null},initSalaries:function(){var t=this;this.getRequest("/salary/sob/").then((function(e){e&&(t.salaries=e.data)}))},initEmps:function(){var t=this;this.getRequest("/salary/sobcfg/?page="+this.currentPage+"&size="+this.currentSize).then((function(e){e&&(t.emps=e.data,t.total=e.total)}))}}},l=r,s=a("2877"),o=Object(s["a"])(l,i,n,!1,null,"a0fc0eda",null);e["default"]=o.exports},"7bc6":function(t,e,a){},"83ed":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{display:"flex","justify-content":"space-between","margin-bottom":"10px"}},[a("el-button",{attrs:{icon:"el-icon-plus",type:"primary"},on:{click:t.showAddTrainView}},[t._v("添加培训资料")]),a("el-button",{attrs:{icon:"el-icon-refresh",type:"success"},on:{click:t.initTrains}})],1),a("div",[a("el-table",{staticStyle:{"margin-top":"2px"},attrs:{"element-loading-text":"正在加载...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)",border:"",stripe:"",data:t.trains,size:"medium"}},[a("el-table-column",{attrs:{width:"55",fixed:"",type:"selection"}}),a("el-table-column",{attrs:{width:"110",prop:"eid",label:"员工编号",align:"center"}}),a("el-table-column",{attrs:{width:"110",prop:"trainDate",label:"培训日期",align:"center"}}),a("el-table-column",{attrs:{width:"250",prop:"trainContent",label:"培训内容",align:"center"}}),a("el-table-column",{attrs:{width:"250",prop:"remark",label:"备注",align:"center"}}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{on:{click:function(a){return t.showEditTrainView(e.row)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"danger"},on:{click:function(a){return t.deleteTrain(e.row)}}},[t._v("删除")])]}}])})],1)],1),a("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[a("el-pagination",{attrs:{background:"","page-sizes":[6,10,20,30],"page-size":6,layout:"sizes, prev, pager, next, jumper, ->, total, slot",total:t.total},on:{"size-change":t.sizeChange,"current-change":t.currentChange}})],1),a("el-dialog",{attrs:{title:t.title,width:"50%",visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"trainForm",attrs:{model:t.train,rules:t.rules}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{"label-width":"120px",label:"工号:",prop:"eid"}},[a("el-input",{attrs:{size:"mini","prefix-icon":"el-icon-edit",placeholder:"请输入员工姓名"},model:{value:t.train.eid,callback:function(e){t.$set(t.train,"eid",e)},expression:"train.eid"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{"label-width":"100px",label:"培训日期:",prop:"trainDate"}},[a("el-date-picker",{staticStyle:{width:"150px"},attrs:{size:"mini",type:"date","value-format":"yyyy-MM-dd",placeholder:"培训日期"},model:{value:t.train.trainDate,callback:function(e){t.$set(t.train,"trainDate",e)},expression:"train.trainDate"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{"label-width":"120px",label:"内容:",prop:"trainContent"}},[a("el-input",{staticStyle:{width:"340px"},attrs:{rows:4,type:"textarea",size:"mini","prefix-icon":"el-icon-edit",placeholder:"请输入培训内容"},model:{value:t.train.trainContent,callback:function(e){t.$set(t.train,"trainContent",e)},expression:"train.trainContent"}})],1)],1)],1),a("el-row",{staticStyle:{"padding-top":"10px"}},[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{"label-width":"120px",label:"备注:",prop:"remark"}},[a("el-input",{staticStyle:{width:"340px"},attrs:{rows:4,type:"textarea",size:"mini","prefix-icon":"el-icon-edit",placeholder:"请输入备注"},model:{value:t.train.remark,callback:function(e){t.$set(t.train,"remark",e)},expression:"train.remark"}})],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.doAddEmp}},[t._v("确 定")])],1)],1)],1)},n=[],r={name:"PerTrain",data:function(){return{total:0,currentPage:1,currentSize:8,title:"",trains:[],dialogVisible:!1,train:{eid:"00000001",trainDate:"",trainContent:"",remark:""},rules:{eid:[{required:!0,message:"请输入编号",trigger:"blur"}],trainDate:[{required:!0,message:"请输入日期",trigger:"blur"}],trainContent:[{required:!0,message:"请输入内容",trigger:"blur"}]}}},mounted:function(){this.initTrains()},methods:{sizeChange:function(t){this.currentSize=t,this.initTrains()},currentChange:function(t){this.currentPage=t,this.initTrains()},showAddTrainView:function(){this.title="添加员工培训记录",this.train={eid:"00000001",trainDate:"",trainContent:"",remark:""},this.dialogVisible=!0},doAddEmp:function(){var t=this;this.train.id?this.$refs["trainForm"].validate((function(e){e&&t.putRequest("/personnel/train/",t.train).then((function(e){e&&(t.dialogVisible=!1,t.initTrains())}))})):this.$refs["trainForm"].validate((function(e){e&&t.postRequest("/personnel/train/",t.train).then((function(e){e&&(t.dialogVisible=!1,t.initTrains())}))}))},showEditTrainView:function(t){this.title="编辑员工培训记录",this.train=t,this.dialogVisible=!0},deleteTrain:function(t){var e=this;this.$confirm("此操作将永久删除此条记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.deleteRequest("/personnel/train/"+t.id).then((function(t){t&&e.initTrains()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},initTrains:function(){var t=this;this.getRequest("/personnel/train/?page="+this.currentPage+"&size="+this.currentSize).then((function(e){e&&(t.trains=e.data,t.total=e.total)}))}}},l=r,s=a("2877"),o=Object(s["a"])(l,i,n,!1,null,"7c112269",null);e["default"]=o.exports},addb:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"content"},[a("el-table",{staticStyle:{"margin-top":"2px"},attrs:{"element-loading-text":"正在加载...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)",data:t.emps,border:"",stripe:"",size:"medium"}},[a("el-table-column",{attrs:{type:"index",width:"55",fixed:""}}),a("el-table-column",{attrs:{width:"90",prop:"name",label:"姓名"}}),a("el-table-column",{attrs:{width:"120",prop:"workID",label:"工号"}}),a("el-table-column",{attrs:{width:"200",prop:"idCard",label:"身份证号"}}),a("el-table-column",{attrs:{width:"110",prop:"tax.salary",label:"工资"}}),a("el-table-column",{attrs:{width:"110",prop:"tax.otherSalary",label:"其他所得"}}),a("el-table-column",{attrs:{width:"110",prop:"tax.insurance",label:"五险一金"}}),a("el-table-column",{attrs:{width:"110",prop:"tax.otherDeduct",label:"其他扣除"}}),a("el-table-column",{attrs:{width:"110",prop:"tax.taxPay",label:"应纳税额"}}),a("el-table-column",{attrs:{width:"110",prop:"tax.afterTax",label:"税后工资"}})],1)],1),a("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[a("el-pagination",{attrs:{background:"",layout:"sizes, prev, pager, next, jumper, ->, total, slot",total:t.total},on:{"size-change":t.sizeChange,"current-change":t.currentChange}})],1)])},n=[],r={name:"ICSearch",data:function(){return{total:0,emps:[],dialogTitle:"信息填写",dialogVisible:!1,currentPage:1,currentSize:10,currentTime:{},emp:{name:"刘子陶",idCard:"610122199001011256",workID:"00000001",tax:{eid:"000001",salary:9e4,otherSalary:2e3,insurance:5e3,otherDeduct:0,taxPay:0,afterTax:0}}}},mounted:function(){this.initEmps()},methods:{sizeChange:function(t){this.currentSize=t,this.initEmps()},currentChange:function(t){this.currentPage=t,this.initEmps()},initEmps:function(){var t=this;this.getRequest("ic/search/?page="+this.currentPage+"&size="+this.currentSize).then((function(e){console.log(e.total),e&&(t.emps=e.data,t.total=e.total)}))}}},l=r,s=a("2877"),o=Object(s["a"])(l,i,n,!1,null,"7e62662e",null);e["default"]=o.exports},d9ac:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{display:"flex","justify-content":"space-between","margin-bottom":"10px"}},[a("el-button",{attrs:{icon:"el-icon-plus",type:"primary"},on:{click:t.showAddEcView}},[t._v("添加奖惩资料")]),a("el-button",{attrs:{icon:"el-icon-refresh",type:"success"},on:{click:t.initEcs}})],1),a("div",[a("el-table",{staticStyle:{"margin-top":"2px"},attrs:{"element-loading-text":"正在加载...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)",border:"",stripe:"",data:t.encourages,size:"medium"}},[a("el-table-column",{attrs:{width:"55",fixed:"",type:"selection"}}),a("el-table-column",{attrs:{width:"110",prop:"eid",label:"员工编号",align:"center"}}),a("el-table-column",{attrs:{width:"110",prop:"ecDate",label:"奖惩日期",align:"center"}}),a("el-table-column",{attrs:{width:"200",prop:"ecReason",label:"奖惩原因",align:"center"}}),a("el-table-column",{attrs:{width:"100",prop:"ecPoint",label:"奖惩分",align:"center"}}),a("el-table-column",{attrs:{width:"100",prop:"ecType",label:"奖惩类型 (0惩/1奖)",align:"center"}}),a("el-table-column",{attrs:{width:"250",prop:"remark",label:"备注",align:"center"}}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{on:{click:function(a){return t.showEditEcView(e.row)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"danger"},on:{click:function(a){return t.deleteEc(e.row)}}},[t._v("删除")])]}}])})],1)],1),a("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[a("el-pagination",{attrs:{background:"","page-sizes":[6,10,20,30],"page-size":6,layout:"sizes, prev, pager, next, jumper, ->, total, slot",total:t.total},on:{"size-change":t.sizeChange,"current-change":t.currentChange}})],1),a("el-dialog",{attrs:{title:t.title,visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"ecForm",attrs:{model:t.encourage,rules:t.rules}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{"label-width":"100px",p:"",label:"工号:",prop:"eid"}},[a("el-input",{attrs:{size:"mini","refix-icon":"el-icon-edit",placeholder:"请输入员工姓名"},model:{value:t.encourage.eid,callback:function(e){t.$set(t.encourage,"eid",e)},expression:"encourage.eid"}})],1)],1),a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{"label-width":"150px",label:"奖惩日期:",prop:"ecDate"}},[a("el-date-picker",{staticStyle:{width:"150px"},attrs:{size:"mini",type:"date","value-format":"yyyy-MM-dd",placeholder:"奖惩日期"},model:{value:t.encourage.ecDate,callback:function(e){t.$set(t.encourage,"ecDate",e)},expression:"encourage.ecDate"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{"label-width":"100px",label:"奖惩原因:",prop:"ecReason"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{rows:1,type:"textarea",size:"mini","prefix-icon":"el-icon-edit",placeholder:""},model:{value:t.encourage.ecReason,callback:function(e){t.$set(t.encourage,"ecReason",e)},expression:"encourage.ecReason"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{"label-width":"100px",label:"奖惩分:",prop:"ecPoint"}},[a("el-input",{attrs:{size:"mini","prefix-icon":"el-icon-edit",placeholder:""},model:{value:t.encourage.ecPoint,callback:function(e){t.$set(t.encourage,"ecPoint",e)},expression:"encourage.ecPoint"}})],1)],1),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{"label-width":"150px",label:"奖惩类型:",prop:"ecType"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{size:"mini",placeholder:"0表示惩罚，1表示奖励"},model:{value:t.encourage.ecType,callback:function(e){t.$set(t.encourage,"ecType",e)},expression:"encourage.ecType"}},[a("el-option",{attrs:{label:"1",value:"1"}}),a("el-option",{attrs:{label:"0",value:"0"}})],1)],1)],1)],1),a("el-row",{staticStyle:{"padding-top":"10px"}},[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{"label-width":"100px",label:"备注:",prop:"remark"}},[a("el-input",{staticStyle:{width:"400px"},attrs:{rows:4,type:"textarea",size:"mini","prefix-icon":"el-icon-edit",placeholder:"请输入备注"},model:{value:t.encourage.remark,callback:function(e){t.$set(t.encourage,"remark",e)},expression:"encourage.remark"}})],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.doAddEc}},[t._v("确 定")])],1)],1)],1)},n=[],r={name:"PerEc",data:function(){return{total:0,currentPage:1,currentSize:6,title:"",dialogVisible:!1,encourage:{eid:"00000001",ecDate:"",ecReason:"",ecPoint:"2",ecType:"1",remark:""},encourages:[],rules:{eid:[{required:!0,message:"请输入编号",trigger:"blur"}],ecDate:[{required:!0,message:"请输入日期",trigger:"blur"}],ecReason:[{required:!0,message:"请输入原因",trigger:"blur"}],ecPoint:[{required:!0,message:"请输入奖惩分",trigger:"blur"}],ecType:[{required:!0,message:"请输入奖惩类型0/1",trigger:"blur"}]}}},mounted:function(){this.initEcs()},methods:{sizeChange:function(t){this.currentSize=t,this.initEcs()},currentChange:function(t){this.currentPage=t,this.initEcs()},showAddEcView:function(){this.title="添加员工奖惩记录",this.encourage={eid:"00000001",ecDate:"",ecReason:"",ecPoint:"",ecType:"",remark:""},this.dialogVisible=!0},doAddEc:function(){var t=this;this.encourage.id?this.$refs["ecForm"].validate((function(e){e&&t.putRequest("/personnel/ec/",t.encourage).then((function(e){e&&(t.dialogVisible=!1,t.initEcs())}))})):this.$refs["ecForm"].validate((function(e){e&&t.postRequest("/personnel/ec/",t.encourage).then((function(e){e&&(t.dialogVisible=!1,t.initEcs())}))}))},showEditEcView:function(t){this.title="编辑员工奖惩记录",this.encourage=t,this.dialogVisible=!0},deleteEc:function(t){var e=this;this.$confirm("此操作将永久删除此条记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.deleteRequest("/personnel/ec/"+t.id).then((function(t){t&&e.initEcs()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},initEcs:function(){var t=this;this.getRequest("/personnel/ec/?page="+this.currentPage+"&size="+this.currentSize).then((function(e){e&&(t.encourages=e.data,t.total=e.total)}))}}},l=r,s=a("2877"),o=Object(s["a"])(l,i,n,!1,null,"52831a65",null);e["default"]=o.exports},e6c5:function(t,e,a){"use strict";var i=a("7bc6"),n=a.n(i);n.a},feca:function(t,e,a){var i={"./Home.vue":"bb51","./Login.vue":"a55b","./emp/EmpBasic.vue":"58da","./ic/ICCollection.vue":"3b8b","./ic/ICSearch.vue":"addb","./per/PerEc.vue":"d9ac","./per/PerTrain.vue":"83ed","./sal/SalSob.vue":"2bc5","./sal/SalSobCfg.vue":"6ac98","./sys/SysBasic.vue":"8d67","./sys/SysHr.vue":"418a"};function n(t){var e=r(t);return a(e)}function r(t){if(!a.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}n.keys=function(){return Object.keys(i)},n.resolve=r,t.exports=n,n.id="feca"}}]);
//# sourceMappingURL=chunk-c67fc51e.390fea21.js.map