(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0838b9a5"],{"83ed":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticStyle:{display:"flex","justify-content":"space-between","margin-bottom":"10px"}},[i("el-button",{attrs:{icon:"el-icon-plus",type:"primary"},on:{click:e.showAddTrainView}},[e._v("添加培训资料")]),i("el-button",{attrs:{icon:"el-icon-refresh",type:"success"},on:{click:e.initTrains}})],1),i("div",[i("el-table",{staticStyle:{"margin-top":"2px"},attrs:{"element-loading-text":"正在加载...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)",border:"",stripe:"",data:e.trains,size:"medium"}},[i("el-table-column",{attrs:{width:"55",fixed:"",type:"selection"}}),i("el-table-column",{attrs:{width:"110",prop:"eid",label:"员工编号",align:"center"}}),i("el-table-column",{attrs:{width:"110",prop:"trainDate",label:"培训日期",align:"center"}}),i("el-table-column",{attrs:{width:"250",prop:"trainContent",label:"培训内容",align:"center"}}),i("el-table-column",{attrs:{width:"250",prop:"remark",label:"备注",align:"center"}}),i("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{on:{click:function(i){return e.showEditTrainView(t.row)}}},[e._v("编辑")]),i("el-button",{attrs:{type:"danger"},on:{click:function(i){return e.deleteTrain(t.row)}}},[e._v("删除")])]}}])})],1)],1),i("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[i("el-pagination",{attrs:{background:"","page-sizes":[6,10,20,30],"page-size":6,layout:"sizes, prev, pager, next, jumper, ->, total, slot",total:e.total},on:{"size-change":e.sizeChange,"current-change":e.currentChange}})],1),i("el-dialog",{attrs:{title:e.title,width:"50%",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("el-form",{ref:"trainForm",attrs:{model:e.train,rules:e.rules}},[i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{"label-width":"120px",label:"工号:",prop:"eid"}},[i("el-input",{attrs:{size:"mini","prefix-icon":"el-icon-edit",placeholder:"请输入员工姓名"},model:{value:e.train.eid,callback:function(t){e.$set(e.train,"eid",t)},expression:"train.eid"}})],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{"label-width":"100px",label:"培训日期:",prop:"trainDate"}},[i("el-date-picker",{staticStyle:{width:"150px"},attrs:{size:"mini",type:"date","value-format":"yyyy-MM-dd",placeholder:"培训日期"},model:{value:e.train.trainDate,callback:function(t){e.$set(e.train,"trainDate",t)},expression:"train.trainDate"}})],1)],1)],1),i("el-row",[i("el-col",{attrs:{span:7}},[i("el-form-item",{attrs:{"label-width":"120px",label:"内容:",prop:"trainContent"}},[i("el-input",{staticStyle:{width:"340px"},attrs:{rows:4,type:"textarea",size:"mini","prefix-icon":"el-icon-edit",placeholder:"请输入培训内容"},model:{value:e.train.trainContent,callback:function(t){e.$set(e.train,"trainContent",t)},expression:"train.trainContent"}})],1)],1)],1),i("el-row",{staticStyle:{"padding-top":"10px"}},[i("el-col",{attrs:{span:7}},[i("el-form-item",{attrs:{"label-width":"120px",label:"备注:",prop:"remark"}},[i("el-input",{staticStyle:{width:"340px"},attrs:{rows:4,type:"textarea",size:"mini","prefix-icon":"el-icon-edit",placeholder:"请输入备注"},model:{value:e.train.remark,callback:function(t){e.$set(e.train,"remark",t)},expression:"train.remark"}})],1)],1)],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.doAddEmp}},[e._v("确 定")])],1)],1)],1)},a=[],r={name:"PerTrain",data:function(){return{total:0,currentPage:1,currentSize:8,title:"",trains:[],dialogVisible:!1,train:{eid:"00000001",trainDate:"",trainContent:"",remark:""},rules:{eid:[{required:!0,message:"请输入编号",trigger:"blur"}],trainDate:[{required:!0,message:"请输入日期",trigger:"blur"}],trainContent:[{required:!0,message:"请输入内容",trigger:"blur"}]}}},mounted:function(){this.initTrains()},methods:{sizeChange:function(e){this.currentSize=e,this.initTrains()},currentChange:function(e){this.currentPage=e,this.initTrains()},showAddTrainView:function(){this.title="添加员工培训记录",this.train={eid:"00000001",trainDate:"",trainContent:"",remark:""},this.dialogVisible=!0},doAddEmp:function(){var e=this;this.train.id?this.$refs["trainForm"].validate((function(t){t&&e.putRequest("/personnel/train/",e.train).then((function(t){t&&(e.dialogVisible=!1,e.initTrains())}))})):this.$refs["trainForm"].validate((function(t){t&&e.postRequest("/personnel/train/",e.train).then((function(t){t&&(e.dialogVisible=!1,e.initTrains())}))}))},showEditTrainView:function(e){this.title="编辑员工培训记录",this.train=e,this.dialogVisible=!0},deleteTrain:function(e){var t=this;this.$confirm("此操作将永久删除此条记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteRequest("/personnel/train/"+e.id).then((function(e){e&&t.initTrains()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},initTrains:function(){var e=this;this.getRequest("/personnel/train/?page="+this.currentPage+"&size="+this.currentSize).then((function(t){t&&(e.trains=t.data,e.total=t.total)}))}}},l=r,o=i("2877"),s=Object(o["a"])(l,n,a,!1,null,"7c112269",null);t["default"]=s.exports},d9ac:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticStyle:{display:"flex","justify-content":"space-between","margin-bottom":"10px"}},[i("el-button",{attrs:{icon:"el-icon-plus",type:"primary"},on:{click:e.showAddEcView}},[e._v("添加奖惩资料")]),i("el-button",{attrs:{icon:"el-icon-refresh",type:"success"},on:{click:e.initEcs}})],1),i("div",[i("el-table",{staticStyle:{"margin-top":"2px"},attrs:{"element-loading-text":"正在加载...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)",border:"",stripe:"",data:e.encourages,size:"medium"}},[i("el-table-column",{attrs:{width:"55",fixed:"",type:"selection"}}),i("el-table-column",{attrs:{width:"110",prop:"eid",label:"员工编号",align:"center"}}),i("el-table-column",{attrs:{width:"110",prop:"ecDate",label:"奖惩日期",align:"center"}}),i("el-table-column",{attrs:{width:"200",prop:"ecReason",label:"奖惩原因",align:"center"}}),i("el-table-column",{attrs:{width:"100",prop:"ecPoint",label:"奖惩分",align:"center"}}),i("el-table-column",{attrs:{width:"100",prop:"ecType",label:"奖惩类型 (0惩/1奖)",align:"center"}}),i("el-table-column",{attrs:{width:"250",prop:"remark",label:"备注",align:"center"}}),i("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{on:{click:function(i){return e.showEditEcView(t.row)}}},[e._v("编辑")]),i("el-button",{attrs:{type:"danger"},on:{click:function(i){return e.deleteEc(t.row)}}},[e._v("删除")])]}}])})],1)],1),i("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[i("el-pagination",{attrs:{background:"","page-sizes":[6,10,20,30],"page-size":6,layout:"sizes, prev, pager, next, jumper, ->, total, slot",total:e.total},on:{"size-change":e.sizeChange,"current-change":e.currentChange}})],1),i("el-dialog",{attrs:{title:e.title,visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("el-form",{ref:"ecForm",attrs:{model:e.encourage,rules:e.rules}},[i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{"label-width":"100px",p:"",label:"工号:",prop:"eid"}},[i("el-input",{attrs:{size:"mini","refix-icon":"el-icon-edit",placeholder:"请输入员工姓名"},model:{value:e.encourage.eid,callback:function(t){e.$set(e.encourage,"eid",t)},expression:"encourage.eid"}})],1)],1),i("el-col",{attrs:{span:9}},[i("el-form-item",{attrs:{"label-width":"150px",label:"奖惩日期:",prop:"ecDate"}},[i("el-date-picker",{staticStyle:{width:"150px"},attrs:{size:"mini",type:"date","value-format":"yyyy-MM-dd",placeholder:"奖惩日期"},model:{value:e.encourage.ecDate,callback:function(t){e.$set(e.encourage,"ecDate",t)},expression:"encourage.ecDate"}})],1)],1)],1),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{"label-width":"100px",label:"奖惩原因:",prop:"ecReason"}},[i("el-input",{staticStyle:{width:"400px"},attrs:{rows:1,type:"textarea",size:"mini","prefix-icon":"el-icon-edit",placeholder:""},model:{value:e.encourage.ecReason,callback:function(t){e.$set(e.encourage,"ecReason",t)},expression:"encourage.ecReason"}})],1)],1)],1),i("el-row",[i("el-col",{attrs:{span:8}},[i("el-form-item",{attrs:{"label-width":"100px",label:"奖惩分:",prop:"ecPoint"}},[i("el-input",{attrs:{size:"mini","prefix-icon":"el-icon-edit",placeholder:""},model:{value:e.encourage.ecPoint,callback:function(t){e.$set(e.encourage,"ecPoint",t)},expression:"encourage.ecPoint"}})],1)],1),i("el-col",{attrs:{span:11}},[i("el-form-item",{attrs:{"label-width":"150px",label:"奖惩类型:",prop:"ecType"}},[i("el-select",{staticStyle:{width:"150px"},attrs:{size:"mini",placeholder:"0表示惩罚，1表示奖励"},model:{value:e.encourage.ecType,callback:function(t){e.$set(e.encourage,"ecType",t)},expression:"encourage.ecType"}},[i("el-option",{attrs:{label:"1",value:"1"}}),i("el-option",{attrs:{label:"0",value:"0"}})],1)],1)],1)],1),i("el-row",{staticStyle:{"padding-top":"10px"}},[i("el-col",{attrs:{span:7}},[i("el-form-item",{attrs:{"label-width":"100px",label:"备注:",prop:"remark"}},[i("el-input",{staticStyle:{width:"400px"},attrs:{rows:4,type:"textarea",size:"mini","prefix-icon":"el-icon-edit",placeholder:"请输入备注"},model:{value:e.encourage.remark,callback:function(t){e.$set(e.encourage,"remark",t)},expression:"encourage.remark"}})],1)],1)],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.doAddEc}},[e._v("确 定")])],1)],1)],1)},a=[],r={name:"PerEc",data:function(){return{total:0,currentPage:1,currentSize:6,title:"",dialogVisible:!1,encourage:{eid:"00000001",ecDate:"",ecReason:"",ecPoint:"2",ecType:"1",remark:""},encourages:[],rules:{eid:[{required:!0,message:"请输入编号",trigger:"blur"}],ecDate:[{required:!0,message:"请输入日期",trigger:"blur"}],ecReason:[{required:!0,message:"请输入原因",trigger:"blur"}],ecPoint:[{required:!0,message:"请输入奖惩分",trigger:"blur"}],ecType:[{required:!0,message:"请输入奖惩类型0/1",trigger:"blur"}]}}},mounted:function(){this.initEcs()},methods:{sizeChange:function(e){this.currentSize=e,this.initEcs()},currentChange:function(e){this.currentPage=e,this.initEcs()},showAddEcView:function(){this.title="添加员工奖惩记录",this.encourage={eid:"00000001",ecDate:"",ecReason:"",ecPoint:"",ecType:"",remark:""},this.dialogVisible=!0},doAddEc:function(){var e=this;this.encourage.id?this.$refs["ecForm"].validate((function(t){t&&e.putRequest("/personnel/ec/",e.encourage).then((function(t){t&&(e.dialogVisible=!1,e.initEcs())}))})):this.$refs["ecForm"].validate((function(t){t&&e.postRequest("/personnel/ec/",e.encourage).then((function(t){t&&(e.dialogVisible=!1,e.initEcs())}))}))},showEditEcView:function(e){this.title="编辑员工奖惩记录",this.encourage=e,this.dialogVisible=!0},deleteEc:function(e){var t=this;this.$confirm("此操作将永久删除此条记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.deleteRequest("/personnel/ec/"+e.id).then((function(e){e&&t.initEcs()}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},initEcs:function(){var e=this;this.getRequest("/personnel/ec/?page="+this.currentPage+"&size="+this.currentSize).then((function(t){t&&(e.encourages=t.data,e.total=t.total)}))}}},l=r,o=i("2877"),s=Object(o["a"])(l,n,a,!1,null,"52831a65",null);t["default"]=s.exports},ee1c:function(e,t,i){var n={"./PerEc.vue":"d9ac","./PerTrain.vue":"83ed"};function a(e){var t=r(e);return i(t)}function r(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=r,e.exports=a,a.id="ee1c"}}]);
//# sourceMappingURL=chunk-0838b9a5.cc02f409.js.map